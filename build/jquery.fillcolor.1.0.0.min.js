/*! jquery.fillcolor 2015-06-02 */

!function(a){"use strict";var b={avg:function(a){for(var b={r:0,g:0,b:0},c=0,d=0;d<a.data.length;d+=4)(255!==a.data[d]||255!==a.data[d+1]||255!==a.data[d+2])&&(b.r+=a.data[d],b.g+=a.data[d+1],b.b+=a.data[d+2],c++);return b.r=Math.round(b.r/c),b.g=Math.round(b.g/c),b.b=Math.round(b.b/c),b},avgYUV:function(a){for(var b={r:0,g:0,b:0},c={y:0,u:0,v:0},d=0,e=function(a){return a/(Math.abs(a)+.4)},f=0;f<a.data.length;f+=4)(255!==a.data[f]||255!==a.data[f+1]||255!==a.data[f+2])&&(b.r=a.data[f]/255,b.g=a.data[f+1]/255,b.b=a.data[f+2]/255,c.y+=.299*b.r+.587*b.g+.114*b.b,c.u+=-.147*b.r-.289*b.g+.436*b.b,c.v+=.615*b.r-.515*b.g-.1*b.b,d++);return c.y=e(c.y/d),c.u=e(c.u/d),c.v=e(c.v/d),b.r=c.y+1.3983*c.v,b.g=c.y-.3946*c.u-.5806*c.v,b.b=c.y+2.0321*c.u,b.r=Math.round(255*b.r),b.g=Math.round(255*b.g),b.b=Math.round(255*b.b),b}};a.fn.fillColor=function(c){var d=a.extend({type:"avg",debug:!1},c);return this.each(function(){var c=a(this),e=a("img",c).eq(0);if(e.length){var f,g=e.width(),h=e.height(),i=document.createElement("canvas"),j=i.getContext("2d");j.fillStyle="rgb(255, 255, 255)",j.fillRect(0,0,g,h),j.drawImage(e[0],0,0,g,h);try{f=j.getImageData(0,0,g,h)}catch(k){return void(d.debug&&console.log("Cross-domain error"))}var l=b[d.type](f);c.css("background-color","rgb("+l.r+", "+l.g+", "+l.b+")")}})}}(jQuery);
//# sourceMappingURL=jquery.fillcolor.1.0.0.min.js.map